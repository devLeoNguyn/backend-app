openapi: 3.0.0
info:
  title: Movie Backend API
  description: |
    API documentation cho ·ª©ng d·ª•ng Movie Backend

    **üîÑ PHI√äN B·∫¢N ƒê√É C·∫¨P NH·∫¨T:**
    - ‚ùå ƒê√£ b·ªè JWT tokens  
    - ‚ùå ƒê√£ b·ªè authentication middleware
    - ‚úÖ S·ª≠ d·ª•ng userId ƒë∆°n gi·∫£n

    **üìã FLOW AUTH M·ªöI (1 m√†n h√¨nh duy nh·∫•t):**
    1. **M√†n h√¨nh nh·∫≠p SƒêT:** User nh·∫≠p s·ªë ƒëi·ªán tho·∫°i
    2. **H·ªá th·ªëng check:** 
       - N·∫øu SƒêT ƒë√£ ƒëƒÉng k√Ω ‚Üí G·ª≠i OTP ƒëƒÉng nh·∫≠p ‚Üí Verify ‚Üí V√†o trang ch·ªß
       - N·∫øu SƒêT ch∆∞a ƒëƒÉng k√Ω ‚Üí G·ª≠i OTP ƒëƒÉng k√Ω ‚Üí Verify ‚Üí Nh·∫≠p th√¥ng tin ‚Üí V√†o trang ch·ªß
    3. **L∆∞u userId:** Store trong AsyncStorage/localStorage ƒë·ªÉ d√πng cho c√°c API kh√°c

    **üì± C√ÅC B∆Ø·ªöC TH·ª∞C HI·ªÜN:**
    1. G·ªçi `/api/auth/send-otp` v·ªõi s·ªë ƒëi·ªán tho·∫°i
    2. G·ªçi `/api/auth/verify-otp` ƒë·ªÉ x√°c th·ª±c
    3. N·∫øu response c√≥ `needsRegistration: true` ‚Üí G·ªçi `/api/auth/complete-registration`
    4. N·∫øu response c√≥ `needsRegistration: false` ‚Üí ƒêƒÉng nh·∫≠p th√†nh c√¥ng, v√†o trang ch·ªß

    **üìÅ AWS S3 CONFIGURATION:**
    - **Bucket:** locdev-bucket (ap-southeast-1)
    - **Avatar path:** assets/avatar-users/{uuid}.{extension}
    - **Supported formats:** JPEG, PNG, GIF
    - **Max file size:** 2MB
    - **Auto cleanup:** Old avatars deleted when uploading new ones

    **üéØ PROFILE UPDATE API:**
    - **Endpoint:** PUT `/api/users/profile?userId={id}`
    - **Content-Type:** multipart/form-data
    - **Fields:** full_name, gender, avatar (file)
    - **Integration:** Direct S3 upload + MongoDB update
  version: 1.2.0
  contact:
    email: your-email@example.com

servers:
  - url: http://localhost:3003
    description: Development server
  - url: https://backend-app-lou3.onrender.com
    description: Production server

tags:
  - name: Authentication
    description: C√°c API li√™n quan ƒë·∫øn x√°c th·ª±c ng∆∞·ªùi d√πng (/api/auth) - Tr·∫£ v·ªÅ userId
  - name: User
    description: C√°c API li√™n quan ƒë·∫øn th√¥ng tin ng∆∞·ªùi d√πng (/api/users) - C·∫ßn userId
  - name: Movie
    description: C√°c API li√™n quan ƒë·∫øn phim (/api/movies)
  - name: Episode
    description: C√°c API li√™n quan ƒë·∫øn t·∫≠p phim (/api/episodes)
  - name: Favorite
    description: C√°c API li√™n quan ƒë·∫øn danh s√°ch y√™u th√≠ch (/api/favorites) - C·∫ßn userId
  - name: Payment
    description: C√°c API li√™n quan ƒë·∫øn thanh to√°n (/api/payments) - C·∫ßn userId
  - name: Rating
    description: C√°c API li√™n quan ƒë·∫øn ƒë√°nh gi√° (/api/ratings) - C·∫ßn userId
  - name: Genre
    description: C√°c API li√™n quan ƒë·∫øn th·ªÉ lo·∫°i phim (/api/genres)
  - name: Home
    description: C√°c API trang ch·ªß (/api/home) - Banner, phim m·ªõi, ƒë·ªÅ xu·∫•t
  - name: Series
    description: C√°c API cho phim b·ªô/series (/api/series) - Banner, trending, ph√¢n lo·∫°i theo qu·ªëc gia

paths:
  # === FLOW M·ªöI: 1 M√ÄN H√åNH DUY NH·∫§T ===
  /api/auth/send-otp:
    post:
      tags:
        - Authentication
      summary: üîÑ G·ª≠i m√£ OTP (ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p th·ªëng nh·∫•t)
      description: |
        **üîÑ FLOW M·ªöI:** G·ª≠i m√£ OTP cho c·∫£ ƒëƒÉng k√Ω v√† ƒëƒÉng nh·∫≠p trong 1 API duy nh·∫•t.

        **Logic x·ª≠ l√Ω:**
        - N·∫øu s·ªë ƒëi·ªán tho·∫°i ƒë√£ t·ªìn t·∫°i ‚Üí G·ª≠i OTP ƒëƒÉng nh·∫≠p
        - N·∫øu s·ªë ƒëi·ªán tho·∫°i ch∆∞a t·ªìn t·∫°i ‚Üí G·ª≠i OTP ƒëƒÉng k√Ω
        - Frontend kh√¥ng c·∫ßn bi·∫øt user ƒë√£ ƒëƒÉng k√Ω hay ch∆∞a

        **ƒê·∫∑c ƒëi·ªÉm:**
        - M√£ OTP c√≥ 6 s·ªë, g·ª≠i qua SMS
        - OTP c√≥ th·ªùi h·∫°n (th∆∞·ªùng 5 ph√∫t)
        - Rate limiting: T·ªëi ƒëa 3 l·∫ßn/ph√∫t
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PhoneRequest"
      responses:
        "200":
          description: G·ª≠i OTP th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ g·ª≠i m√£ OTP"
                  data:
                    type: object
                    properties:
                      phone:
                        type: string
                        example: "0912345678"
                      isExistingUser:
                        type: boolean
                        example: true
                        description: "true = user ƒë√£ ƒëƒÉng k√Ω (ƒëƒÉng nh·∫≠p), false = user m·ªõi (ƒëƒÉng k√Ω)"
              example:
                status: "success"
                message: "ƒê√£ g·ª≠i m√£ OTP ƒëƒÉng nh·∫≠p"
                data:
                  phone: "0912345678"
                  isExistingUser: true
        "400":
          description: L·ªói validate s·ªë ƒëi·ªán tho·∫°i
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/auth/verify-otp:
    post:
      tags:
        - Authentication
      summary: üîÑ X√°c th·ª±c OTP (ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p th·ªëng nh·∫•t)
      description: |
        **üîÑ FLOW M·ªöI:** X√°c th·ª±c m√£ OTP cho c·∫£ ƒëƒÉng k√Ω v√† ƒëƒÉng nh·∫≠p.

        **Response paths:**
        1. **User ƒë√£ ƒëƒÉng k√Ω:** `needsRegistration: false` ‚Üí Frontend v√†o trang ch·ªß
        2. **User ch∆∞a ƒëƒÉng k√Ω:** `needsRegistration: true` ‚Üí Frontend chuy·ªÉn m√†n h√¨nh nh·∫≠p th√¥ng tin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyOTPRequest"
      responses:
        "200":
          description: X√°c th·ª±c OTP th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "X√°c th·ª±c OTP th√†nh c√¥ng"
                  data:
                    type: object
                    properties:
                      needsRegistration:
                        type: boolean
                        example: false
                        description: "false = ƒëƒÉng nh·∫≠p th√†nh c√¥ng, true = c·∫ßn nh·∫≠p th√¥ng tin ƒëƒÉng k√Ω"
                      userId:
                        type: string
                        example: "683d7b63d0ee4aeb15a11369"
                        description: "Ch·ªâ c√≥ khi needsRegistration = false"
                      user:
                        $ref: "#/components/schemas/UserInfo"
                        description: "Ch·ªâ c√≥ khi needsRegistration = false"
              examples:
                existing_user:
                  summary: User ƒë√£ ƒëƒÉng k√Ω (ƒëƒÉng nh·∫≠p th√†nh c√¥ng)
                  value:
                    status: "success"
                    message: "ƒêƒÉng nh·∫≠p th√†nh c√¥ng"
                    data:
                      needsRegistration: false
                      userId: "683d7b63d0ee4aeb15a11369"
                      user:
                        _id: "683d7b63d0ee4aeb15a11369"
                        uid: "683d7b63d0ee4aeb15a11369"
                        full_name: "Nguy·ªÖn VƒÉn A"
                        email: "example@gmail.com"
                        phone: "0912345678"
                        gender: "male"
                        avatar: "https://example.com/avatar.jpg"
                        is_phone_verified: true
                new_user:
                  summary: User ch∆∞a ƒëƒÉng k√Ω (c·∫ßn nh·∫≠p th√¥ng tin)
                  value:
                    status: "success"
                    message: "X√°c th·ª±c OTP th√†nh c√¥ng, vui l√≤ng nh·∫≠p th√¥ng tin"
                    data:
                      needsRegistration: true
        "400":
          description: M√£ OTP kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/auth/complete-registration:
    post:
      tags:
        - Authentication
      summary: üîÑ Ho√†n t·∫•t ƒëƒÉng k√Ω (Sau khi verify OTP)
      description: |
        **üîÑ FLOW M·ªöI:** Ho√†n t·∫•t qu√° tr√¨nh ƒëƒÉng k√Ω sau khi verify OTP th√†nh c√¥ng.

        **Khi n√†o s·ª≠ d·ª•ng:**
        - Khi `/api/auth/verify-otp` tr·∫£ v·ªÅ `needsRegistration: true`
        - User ƒë√£ x√°c th·ª±c s·ªë ƒëi·ªán tho·∫°i, gi·ªù c·∫ßn nh·∫≠p th√¥ng tin c√° nh√¢n

        **‚ö†Ô∏è QUAN TR·ªåNG:**
        - Kh√¥ng c·∫ßn truy·ªÅn phone, h·ªá th·ªëng t·ª± ƒë·ªông l·∫•y t·ª´ OTP record ƒë√£ verify
        - Ph·∫£i g·ªçi trong v√≤ng 10 ph√∫t sau khi verify OTP th√†nh c√¥ng
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegisterRequest"
            example:
              full_name: "Nguy·ªÖn VƒÉn A"
              email: "example@gmail.com"
              gender: "male"
      responses:
        "201":
          description: ƒêƒÉng k√Ω th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthResponse"
        "400":
          description: L·ªói validate d·ªØ li·ªáu, email ƒë√£ t·ªìn t·∫°i, ho·∫∑c phone kh√¥ng h·ª£p l·ªá
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/auth/logout:
    post:
      tags:
        - Authentication
      summary: üîÑ ƒêƒÉng xu·∫•t
      description: |
        ƒêƒÉng xu·∫•t ng∆∞·ªùi d√πng (ch·ªâ tr·∫£ v·ªÅ success message).

        **üì± Frontend c·∫ßn l√†m:**
        - X√≥a `userId` kh·ªèi AsyncStorage/localStorage
        - Kh√¥ng c·∫ßn g·ªçi API refresh token hay g√¨ c·∫£
      responses:
        "200":
          description: ƒêƒÉng xu·∫•t th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒêƒÉng xu·∫•t th√†nh c√¥ng"

  /api/users/profile:
    get:
      tags:
        - User
      summary: L·∫•y th√¥ng tin profile
      description: |
        L·∫•y th√¥ng tin chi ti·∫øt c·ªßa user.

        **üîÑ THAY ƒê·ªîI:** Kh√¥ng c·∫ßn Bearer token, ch·ªâ c·∫ßn truy·ªÅn userId qua query params
      parameters:
        - name: userId
          in: query
          required: true
          schema:
            type: string
          example: "683d7b63d0ee4aeb15a11369"
          description: "ID c·ªßa user c·∫ßn l·∫•y th√¥ng tin"
      responses:
        "200":
          description: L·∫•y th√¥ng tin th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProfileResponse"
              example:
                status: "success"
                data:
                  user:
                    _id: "683d7b63d0ee4aeb15a11369"
                    uid: "683d7b63d0ee4aeb15a11369"
                    full_name: "Nguy·ªÖn VƒÉn A"
                    email: "example@gmail.com"
                    phone: "0912345678"
                    gender: "male"
                    avatar: "https://example.com/avatar.jpg"
                    is_phone_verified: true
        "400":
          description: Thi·∫øu userId ho·∫∑c userId kh√¥ng h·ª£p l·ªá
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "userId l√† b·∫Øt bu·ªôc"
        "404":
          description: Kh√¥ng t√¨m th·∫•y user
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "Kh√¥ng t√¨m th·∫•y user"

    put:
      tags:
        - User
      summary: üîÑ C·∫≠p nh·∫≠t profile (v·ªõi upload avatar)
      description: |
        **üîÑ API ƒê√É C·∫¨P NH·∫¨T:** H·ªó tr·ª£ upload avatar tr·ª±c ti·∫øp l√™n AWS S3 + c·∫≠p nh·∫≠t th√¥ng tin profile.

        **üìã T√çNH NƒÇNG:**
        - ‚úÖ C·∫≠p nh·∫≠t h·ªç t√™n, gi·ªõi t√≠nh
        - ‚úÖ Upload avatar l√™n AWS S3 (auto delete avatar c≈©)
        - ‚úÖ Validation file ·∫£nh (JPEG, PNG, GIF, max 2MB)
        - ‚úÖ Unified API: c√≥ th·ªÉ update ch·ªâ text ho·∫∑c ch·ªâ avatar ho·∫∑c c·∫£ hai

        **üì§ REQUEST FORMAT:**
        - **Content-Type:** `multipart/form-data` (b·∫Øt bu·ªôc)
        - **Text fields:** full_name, gender
        - **File field:** avatar (optional)

        **üìÅ S3 STORAGE:**
        - Path: `assets/avatar-users/{uuid}.{ext}`
        - Auto generate unique filename
        - Auto delete old avatar khi upload m·ªõi

        **‚ö†Ô∏è L∆ØU √ù:**
        - Phone, email KH√îNG th·ªÉ c·∫≠p nh·∫≠t qua API n√†y (readonly)
        - Avatar file: JPEG/PNG/GIF, max 2MB
        - N·∫øu kh√¥ng upload avatar ‚Üí ch·ªâ update text fields
      parameters:
        - name: userId
          in: query
          required: true
          schema:
            type: string
          example: "684269635fb34def3a1e28fd"
          description: "ID c·ªßa user c·∫ßn c·∫≠p nh·∫≠t"
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                full_name:
                  type: string
                  description: "H·ªç v√† t√™n ng∆∞·ªùi d√πng"
                  example: "ƒê·∫°t Thi·ªán"
                gender:
                  type: string
                  enum: [male, female, other]
                  description: "Gi·ªõi t√≠nh: male=Nam, female=N·ªØ, other=Kh√°c"
                  example: "male"
                avatar:
                  type: string
                  format: binary
                  description: "File ·∫£nh ƒë·∫°i di·ªán (JPEG/PNG/GIF, max 2MB)"
            encoding:
              avatar:
                contentType: image/jpeg, image/png, image/gif
            examples:
              update_text_only:
                summary: "Ch·ªâ c·∫≠p nh·∫≠t text (kh√¥ng upload avatar)"
                value:
                  full_name: "ƒê·∫°t Thi·ªán Updated"
                  gender: "male"
              update_with_avatar:
                summary: "C·∫≠p nh·∫≠t text + upload avatar"
                value:
                  full_name: "ƒê·∫°t Thi·ªán Updated"
                  gender: "male"
                  avatar: "[BINARY FILE DATA]"
      responses:
        "200":
          description: ‚úÖ C·∫≠p nh·∫≠t th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProfileResponse"
              examples:
                text_only_update:
                  summary: "C·∫≠p nh·∫≠t ch·ªâ text th√†nh c√¥ng"
                  value:
                    status: "success"
                    message: "‚úÖ User profile updated successfully"
                    data:
                      user:
                        _id: "684269635fb34def3a1e28fd"
                        uid: "684269635fb34def3a1e28fd"
                        full_name: "ƒê·∫°t Thi·ªán Updated"
                        email: "datthien@gmail.com"
                        phone: "0288348192"
                        gender: "male"
                        avatar: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/avatar-users/old-avatar.jpg"
                        is_phone_verified: true
                avatar_upload_success:
                  summary: "Upload avatar + c·∫≠p nh·∫≠t text th√†nh c√¥ng"
                  value:
                    status: "success"
                    message: "‚úÖ User profile updated successfully"
                    data:
                      user:
                        _id: "684269635fb34def3a1e28fd"
                        uid: "684269635fb34def3a1e28fd"
                        full_name: "ƒê·∫°t Thi·ªán Updated"
                        email: "datthien@gmail.com"
                        phone: "0288348192"
                        gender: "male"
                        avatar: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/avatar-users/32c5a14e-3fa0-497a-b036-32de0cdc842a.jpg"
                        is_phone_verified: true
        "400":
          description: ‚ùå L·ªói validation ho·∫∑c file
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                missing_userId:
                  summary: "Thi·∫øu userId"
                  value:
                    status: "error"
                    message: "userId l√† b·∫Øt bu·ªôc"
                file_too_large:
                  summary: "File qu√° l·ªõn"
                  value:
                    status: "error"
                    message: "T·ªáp qu√° l·ªõn. Ch·ªâ cho ph√©p t·ªáp nh·ªè h∆°n 2MB"
                invalid_file_type:
                  summary: "Lo·∫°i file kh√¥ng h·ª£p l·ªá"
                  value:
                    status: "error"
                    message: "Ch·ªâ cho ph√©p file ·∫£nh (JPEG, PNG, GIF)"
                s3_upload_error:
                  summary: "L·ªói upload S3"
                  value:
                    status: "error"
                    message: "L·ªói khi upload file l√™n S3"
        "404":
          description: ‚ùå Kh√¥ng t√¨m th·∫•y user
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "Kh√¥ng t√¨m th·∫•y user"
        "500":
          description: ‚ùå L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "L·ªói server khi x·ª≠ l√Ω upload"

  /api/home/new-releases:
    get:
      tags:
        - Home
      summary: API Banner v√† Phim ƒë·ªÅ xu·∫•t
      description: |
        L·∫•y danh s√°ch phim m·ªõi ra m·∫Øt cho Banner ƒë·∫ßu trang v√† danh s√°ch ·ªü d∆∞·ªõi "Phim d√†nh cho b·∫°n".

        **ƒê·∫∑c ƒëi·ªÉm:**
        - Public API (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
        - Ch·ªâ l·∫•y phim c√≥ release_status = "released"
        - S·∫Øp x·∫øp theo ng√†y t·∫°o m·ªõi nh·∫•t
        - Tr·∫£ v·ªÅ 2 sections ri√™ng bi·ªát
      parameters:
        - name: bannerLimit
          in: query
          required: false
          schema:
            type: integer
            default: 5
            minimum: 1
            maximum: 10
          description: S·ªë l∆∞·ª£ng phim trong banner list (m·∫∑c ƒë·ªãnh 5)
          example: 3
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 6
            minimum: 1
            maximum: 12
          description: S·ªë l∆∞·ª£ng phim trong grid "Phim d√†nh cho b·∫°n" (m·∫∑c ƒë·ªãnh 6)
          example: 4
        - name: days
          in: query
          required: false
          schema:
            type: integer
            default: 30
            minimum: 1
            maximum: 365
          description: L·∫•y phim m·ªõi trong X ng√†y g·∫ßn ƒë√¢y (m·∫∑c ƒë·ªãnh 30 ng√†y)
          example: 15
      responses:
        "200":
          description: L·∫•y d·ªØ li·ªáu th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      banner:
                        type: object
                        properties:
                          title:
                            type: string
                            example: "Phim m·ªõi ra m·∫Øt"
                          type:
                            type: string
                            example: "banner_list"
                          movies:
                            type: array
                            items:
                              $ref: "#/components/schemas/BannerMovie"
                      recommended:
                        type: object
                        properties:
                          title:
                            type: string
                            example: "Phim d√†nh cho b·∫°n"
                          type:
                            type: string
                            example: "grid"
                          movies:
                            type: array
                            items:
                              $ref: "#/components/schemas/GridMovie"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/home/continue-watching:
    get:
      tags:
        - Home
      summary: API ƒêang xem (C·∫ßn userId s·∫Ω ph√°t tri·ªÉn trong t∆∞∆°ng lai)
      description: |
        L·∫•y danh s√°ch phim ƒëang xem c·ªßa user.

        **üîÑ THAY ƒê·ªîI:** C·∫ßn truy·ªÅn userId qua query params thay v√¨ Bearer token
      parameters:
        - name: userId
          in: query
          required: true
          schema:
            type: string
          example: "683d7b63d0ee4aeb15a11369"
          description: "ID c·ªßa user c·∫ßn l·∫•y danh s√°ch ƒëang xem"
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 8
          example: 8
      responses:
        "200":
          description: L·∫•y d·ªØ li·ªáu th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "ƒêang xem"
                      type:
                        type: string
                        example: "continue_watching"
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            movieId:
                              type: string
                              example: "60d5ecb74df5e2001f8b4567"
                            title:
                              type: string
                              example: "Avatar"
                            poster:
                              type: string
                              example: "https://example.com/poster.jpg"
                            progress:
                              type: number
                              example: 0.65
                            lastWatchedAt:
                              type: string
                              format: date-time
                              example: "2023-12-01T10:30:00Z"
        "400":
          description: Thi·∫øu userId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "userId l√† b·∫Øt bu·ªôc"

  /api/home/trending:
    get:
      tags:
        - Home
      summary: API Phim ƒëang th·ªãnh h√†nh
      description: |
        L·∫•y danh s√°ch phim ƒëang th·ªãnh h√†nh (ƒë∆∞·ª£c xem nhi·ªÅu nh·∫•t).

        **ƒê·∫∑c ƒëi·ªÉm:**
        - Public API (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
        - S·∫Øp x·∫øp theo view count
        - Format gi·ªëng GridMovie
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 7
            minimum: 1
            maximum: 20
          description: S·ªë l∆∞·ª£ng phim trending (m·∫∑c ƒë·ªãnh 7)
          example: 7
      responses:
        "200":
          description: L·∫•y d·ªØ li·ªáu th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "Phim ƒëang th·ªãnh h√†nh"
                      type:
                        type: string
                        example: "grid"
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/home/top-rated:
    get:
      tags:
        - Home
      summary: API Phim ƒë∆∞·ª£c ƒë√°nh gi√° cao
      description: |
        L·∫•y danh s√°ch phim ƒë∆∞·ª£c ƒë√°nh gi√° cao nh·∫•t.

        **ƒê·∫∑c ƒëi·ªÉm:**
        - Public API (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
        - S·∫Øp x·∫øp theo rating
        - Ch·ªâ l·∫•y phim c√≥ rating > 0
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 8
            minimum: 1
            maximum: 20
          description: S·ªë l∆∞·ª£ng phim top-rated (m·∫∑c ƒë·ªãnh 8)
          example: 8
      responses:
        "200":
          description: L·∫•y d·ªØ li·ªáu th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "Phim ƒë∆∞·ª£c ƒë√°nh gi√° cao"
                      type:
                        type: string
                        example: "grid"
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/home/sports:
    get:
      tags:
        - Home
      summary: API S·ª± ki·ªán th·ªÉ thao
      description: |
        L·∫•y danh s√°ch s·ª± ki·ªán th·ªÉ thao.

        **ƒê·∫∑c ƒëi·ªÉm:**
        - Public API (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
        - Ch·ªâ l·∫•y movie_type = "Th·ªÉ thao"
        - Filter theo status (upcoming, released, ended)
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 8
            minimum: 1
            maximum: 20
          description: S·ªë l∆∞·ª£ng s·ª± ki·ªán th·ªÉ thao (m·∫∑c ƒë·ªãnh 8)
          example: 8
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum: [upcoming, released, ended]
          description: |
            Filter theo tr·∫°ng th√°i s·ª± ki·ªán:
            - upcoming: S·ª± ki·ªán s·∫Øp di·ªÖn ra
            - released: S·ª± ki·ªán ƒë√£ ph√°t h√†nh (m·∫∑c ƒë·ªãnh)
            - ended: S·ª± ki·ªán ƒë√£ k·∫øt th√∫c
          example: released
      responses:
        "200":
          description: L·∫•y d·ªØ li·ªáu th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "S·ª± ki·ªán th·ªÉ thao"
                      type:
                        type: string
                        example: "grid"
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/home/anime:
    get:
      tags:
        - Home
      summary: API Anime/Ho·∫°t h√¨nh hot
      description: |
        L·∫•y danh s√°ch anime/ho·∫°t h√¨nh n·ªïi b·∫≠t v·ªõi logic ƒë·∫∑c tr∆∞ng.
        **Fontend s·ª≠ d·ª•ng cho:**
        - Section "Anime hot"
        - Grid layout ho·∫°t h√¨nh
        - Hi·ªÉn th·ªã poster anime v·ªõi t·ªâ l·ªá ƒë·∫∑c bi·ªát
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 8
            minimum: 1
            maximum: 20
          description: S·ªë l∆∞·ª£ng anime hot (m·∫∑c ƒë·ªãnh 8)
          example: 8
      responses:
        "200":
          description: L·∫•y d·ªØ li·ªáu th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "Anime hot"
                      type:
                        type: string
                        example: "grid"
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
              example:
                status: "success"
                data:
                  title: "Anime hot"
                  type: "grid"
                  movies: []
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "L·ªói khi l·∫•y anime hot"

  /api/home/vietnamese:
    get:
      tags:
        - Home
      summary: API Phim Vi·ªát ƒë·∫∑c s·∫Øc
      description: |
        L·∫•y danh s√°ch phim Vi·ªát Nam v·ªõi logic t√¨m ki·∫øm ƒë·∫∑c tr∆∞ng.

        **Logic ƒë·∫∑c tr∆∞ng:**
        - S·∫Øp x·∫øp theo rating (phim c√≥ rating cao nh·∫•t)
        - T√≠nh to√°n rating/viewCount        
        **Fontend s·ª≠ d·ª•ng cho:**
        - Section "Phim Vi·ªát ƒë·∫∑c s·∫Øc"
        - Grid layout phim Vi·ªát
        - Hi·ªÉn th·ªã poster phim Vi·ªát Nam
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 8
            minimum: 1
            maximum: 20
          description: S·ªë l∆∞·ª£ng phim Vi·ªát (m·∫∑c ƒë·ªãnh 8)
          example: 8
      responses:
        "200":
          description: L·∫•y d·ªØ li·ªáu th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "Phim Vi·ªát ƒë·∫∑c s·∫Øc"
                      type:
                        type: string
                        example: "grid"
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
              example:
                status: "success"
                data:
                  title: "Phim Vi·ªát ƒë·∫∑c s·∫Øc"
                  type: "grid"
                  movies:
                    - movieId: "683fb55d88e880e019875aa7"
                      title: "M√¨nh Y√™u Nhau, B√¨nh Y√™n Th√¥i"
                      poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/minh-yeu-nhau-binh-yen-thoi.jpg"
                      movieType: "Phim b·ªô"
                      producer: "SK Pictures, VTV3"
                    - movieId: "683e6774602b36157f1c7b18"
                      title: "G·∫∑p L·∫°i Ch·ªã B·∫ßu"
                      poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/hai/gap-lai-chi-bau-500_1707203931098.jpg"
                      movieType: "Phim l·∫ª"
                      producer: "CJ Entertainment Vietnam"
                    - movieId: "683fb6e188e880e019875ac3"
                      title: "Ng√†y X∆∞a C√≥ M·ªôt Chuy·ªán T√¨nh"
                      poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/ngay-xua-co-cau-chuyen-tinh.jpg"
                      movieType: "Phim l·∫ª"
                      producer: "HK Film, H√£ng phim Anh T·ªÖu"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "L·ªói khi l·∫•y phim Vi·ªát"

  /api/home/coming-soon:
    get:
      tags:
        - Home
      summary: API Phim s·∫Øp chi·∫øu (ƒë·∫∑t l·ªãch s·∫Ω ph√°t tri·ªÉn trong t∆∞∆°ng lai)
      description: |
        L·∫•y danh s√°ch phim s·∫Øp chi·∫øu v·ªõi logic ƒë·∫∑c tr∆∞ng.
        **Fontend s·ª≠ d·ª•ng cho:**
        - Section "S·∫Øp chi·∫øu"
        - Grid layout phim s·∫Øp chi·∫øu
        - Hi·ªÉn th·ªã poster + th√¥ng tin c∆° b·∫£n
        - C√≥ th·ªÉ th√™m countdown timer ƒë·∫øn ng√†y chi·∫øu
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 8
            minimum: 1
            maximum: 20
          description: S·ªë l∆∞·ª£ng phim s·∫Øp chi·∫øu (m·∫∑c ƒë·ªãnh 8)
          example: 8
        - name: days
          in: query
          required: false
          schema:
            type: integer
            default: 30
            minimum: 1
            maximum: 365
          description: L·∫•y phim s·∫Øp chi·∫øu trong X ng√†y t·ªõi (m·∫∑c ƒë·ªãnh 30 ng√†y)
          example: 15
      responses:
        "200":
          description: L·∫•y d·ªØ li·ªáu th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "S·∫Øp chi·∫øu"
                      type:
                        type: string
                        example: "grid"
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
              example:
                status: "success"
                data:
                  title: "S·∫Øp chi·∫øu"
                  type: "grid"
                  movies:
                    - movieId: "683fb76c88e880e019875acb"
                      title: "Avatar: The Way of Water 2"
                      poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/hanh-dong/avatar-way-of-water-2.jpg"
                      movieType: "Phim l·∫ª"
                      producer: "20th Century Studios"
                    - movieId: "683e922d88e880e019875a1f"
                      title: "World Cup 2026 Final"
                      poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/sports/world-cup-2026.jpg"
                      movieType: "Th·ªÉ thao"
                      producer: "FIFA"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "L·ªói khi l·∫•y phim s·∫Øp chi·∫øu"

  # === SERIES/PHIM B·ªò APIs ===
  /api/series/banner-series:
    get:
      tags:
        - Series
      summary: üé¨ API Banner v√† phim b·ªô ƒë·ªÅ xu·∫•t cho m√†n h√¨nh Series
      description: |
        **üéØ API CHUY√äN D√ÄNH CHO M√ÄN H√åNH PHIM B·ªò**

        **üì∫ Tr·∫£ v·ªÅ 2 sections:**
        - ‚úÖ **Banner:** Phim b·ªô m·ªõi ra m·∫Øt (slider/banner)
        - ‚úÖ **Grid:** Phim b·ªô ƒë·ªÅ xu·∫•t d√†nh cho b·∫°n

        **üîß ƒê·∫∑c ƒëi·ªÉm:**
        - Ch·ªâ l·∫•y phim c√≥ `movie_type = "Phim b·ªô"`
        - Filter theo `release_status = "released"`
        - S·∫Øp x·∫øp theo ng√†y t·∫°o m·ªõi nh·∫•t
        - T·ª± ƒë·ªông format cho frontend FlatList/Grid

        **üì± Frontend Usage:**
        ```javascript
        // L·∫•y banner + grid cho m√†n h√¨nh phim b·ªô
        fetch('/api/series/banner-series')
        
        // V·ªõi custom parameters
        fetch('/api/series/banner-series?bannerLimit=3&limit=8&days=15')
        ```

        **üîì Public API** (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
      parameters:
        - name: bannerLimit
          in: query
          required: false
          schema:
            type: integer
            default: 5
            minimum: 1
            maximum: 10
          description: |
            **üé¨ S·ªê PHIM TRONG BANNER (T√πy ch·ªçn)**
            
            S·ªë l∆∞·ª£ng phim b·ªô hi·ªÉn th·ªã trong banner slider
            - M·∫∑c ƒë·ªãnh: `5` phim ‚≠ê **Khuy√™n d√πng**
            - T·ªëi ƒëa: `10` phim
          example: 5
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 6
            minimum: 1
            maximum: 20
          description: |
            **üìä S·ªê PHIM TRONG GRID (T√πy ch·ªçn)**
            
            S·ªë l∆∞·ª£ng phim b·ªô trong section "Phim b·ªô d√†nh cho b·∫°n"
            - M·∫∑c ƒë·ªãnh: `6` phim ‚≠ê **Khuy√™n d√πng**
            - T·ªëi ƒëa: `20` phim
          example: 6
        - name: days
          in: query
          required: false
          schema:
            type: integer
            default: 30
            minimum: 1
            maximum: 365
          description: |
            **üìÖ L·ªåOC PHIM B·ªò M·ªöI (T√πy ch·ªçn)**
            
            L·∫•y phim b·ªô m·ªõi trong X ng√†y g·∫ßn ƒë√¢y
            - M·∫∑c ƒë·ªãnh: `30` ng√†y ‚≠ê **Khuy√™n d√πng**
            - T·ªëi ƒëa: `365` ng√†y
          example: 30
      responses:
        "200":
          description: ‚úÖ L·∫•y banner v√† phim b·ªô ƒë·ªÅ xu·∫•t th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      banner:
                        type: object
                        properties:
                          title:
                            type: string
                            example: "Phim b·ªô m·ªõi ra m·∫Øt"
                          type:
                            type: string
                            example: "banner_list"
                          movies:
                            type: array
                            items:
                              $ref: "#/components/schemas/BannerMovie"
                      recommended:
                        type: object
                        properties:
                          title:
                            type: string
                            example: "Phim b·ªô d√†nh cho b·∫°n"
                          type:
                            type: string
                            example: "grid"
                          movies:
                            type: array
                            items:
                              $ref: "#/components/schemas/GridMovie"
              example:
                status: "success"
                data:
                  banner:
                    title: "Phim b·ªô m·ªõi ra m·∫Øt"
                    type: "banner_list"
                    movies:
                      - movieId: "683fb76c88e880e019875aca"
                        title: "1000 Years Old"
                        poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/phimbo-1000-years-old.jpg"
                        description: "B·ªô phim t√¨nh c·∫£m ƒë·∫∑c s·∫Øc t·ª´ Th√°i Lan v·ªõi c√¢u chuy·ªán t√¨nh y√™u v∆∞·ª£t th·ªùi gian..."
                        releaseYear: 2024
                        movieType: "Phim b·ªô"
                        producer: "WeTV Thailand"
                        genres: ["T√¨nh c·∫£m", "Drama"]
                  recommended:
                    title: "Phim b·ªô d√†nh cho b·∫°n"
                    type: "grid"
                    movies:
                      - movieId: "683fb76c88e880e019875aca"
                        title: "1000 Years Old"
                        poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/phimbo-1000-years-old.jpg"
                        movieType: "Phim b·ªô"
                        producer: "WeTV Thailand"
        "500":
          description: ‚ùå L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "L·ªói khi l·∫•y banner phim b·ªô"

  /api/series/trending:
    get:
      tags:
        - Series
      summary: üî• API Phim b·ªô ƒëang th·ªãnh h√†nh
      description: |
        **üéØ API PHIM B·ªò HOT NH·∫§T**

        **üî• ƒê·∫∑c ƒëi·ªÉm:**
        - Ch·ªâ l·∫•y phim c√≥ `movie_type = "Phim b·ªô"`
        - S·∫Øp x·∫øp theo l∆∞·ª£t xem (view_count) cao nh·∫•t
        - H·ªó tr·ª£ xem t·∫•t c·∫£ v·ªõi `showAll=true`
        - T·ª± ƒë·ªông t√≠nh to√°n rating v√† stats

        **üì± Frontend Usage:**
        ```javascript
        // L·∫•y 8 phim b·ªô hot nh·∫•t
        fetch('/api/series/trending')
        
        // Xem t·∫•t c·∫£ phim b·ªô th·ªãnh h√†nh
        fetch('/api/series/trending?showAll=true')
        ```

        **üîì Public API** (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
      parameters:
        - name: showAll
          in: query
          required: false
          schema:
            type: string
            enum: ["true", "false"]
          description: |
            **üëÄ XEM T·∫§T C·∫¢ (T√πy ch·ªçn)**
            
            - `true`: Xem t·∫•t c·∫£ phim b·ªô th·ªãnh h√†nh (pagination)
            - `false` ho·∫∑c kh√¥ng truy·ªÅn: Ch·ªâ 8 phim top
            
            üí° **Tip:** D√πng cho trang "Xem t·∫•t c·∫£"
          example: "false"
      responses:
        "200":
          description: ‚úÖ L·∫•y phim b·ªô th·ªãnh h√†nh th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "Phim b·ªô ƒëang th·ªãnh h√†nh"
                      type:
                        type: string
                        example: "grid"
                      showAll:
                        type: boolean
                        example: false
                      total:
                        type: integer
                        example: 8
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
              examples:
                default_view:
                  summary: "Xem m·∫∑c ƒë·ªãnh (8 phim b·ªô top)"
                  value:
                    status: "success"
                    data:
                      title: "Phim b·ªô ƒëang th·ªãnh h√†nh"
                      type: "grid"
                      showAll: false
                      total: 8
                      movies:
                        - movieId: "683fb76c88e880e019875aca"
                          title: "1000 Years Old"
                          poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/phimbo-1000-years-old.jpg"
                          movieType: "Phim b·ªô"
                          producer: "WeTV Thailand"
                show_all_view:
                  summary: "Xem t·∫•t c·∫£ phim b·ªô th·ªãnh h√†nh"
                  value:
                    status: "success"
                    data:
                      title: "T·∫•t c·∫£ phim b·ªô th·ªãnh h√†nh"
                      type: "grid"
                      showAll: true
                      total: 45
                      movies:
                        - movieId: "683fb76c88e880e019875aca"
                          title: "1000 Years Old"
                          poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/phimbo-1000-years-old.jpg"
                          movieType: "Phim b·ªô"
                          producer: "WeTV Thailand"

  /api/series/vietnamese:
    get:
      tags:
        - Series
      summary: üáªüá≥ API Phim b·ªô Vi·ªát Nam
      description: |
        **üéØ API PHIM B·ªò VI·ªÜT NAM ƒê·∫∂C S·∫ÆC**

        **üáªüá≥ ƒê·∫∑c ƒëi·ªÉm:**
        - Ch·ªâ l·∫•y phim c√≥ `movie_type = "Phim b·ªô"`
        - Filter producer ch·ª©a "Vi·ªát Nam" ho·∫∑c "Vietnam"
        - S·∫Øp x·∫øp theo ƒë√°nh gi√° v√† l∆∞·ª£t xem
        - H·ªó tr·ª£ xem t·∫•t c·∫£ v·ªõi `showAll=true`

        **üì± Frontend Usage:**
        ```javascript
        // L·∫•y 8 phim b·ªô Vi·ªát hot nh·∫•t
        fetch('/api/series/vietnamese')
        
        // Xem t·∫•t c·∫£ phim b·ªô Vi·ªát
        fetch('/api/series/vietnamese?showAll=true')
        ```

        **üîì Public API** (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
      parameters:
        - name: showAll
          in: query
          required: false
          schema:
            type: string
            enum: ["true", "false"]
          description: |
            **üëÄ XEM T·∫§T C·∫¢ PHIM B·ªò VI·ªÜT (T√πy ch·ªçn)**
            
            - `true`: Xem t·∫•t c·∫£ phim b·ªô Vi·ªát Nam
            - `false` ho·∫∑c kh√¥ng truy·ªÅn: Ch·ªâ 8 phim top
          example: "false"
      responses:
        "200":
          description: ‚úÖ L·∫•y phim b·ªô Vi·ªát Nam th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "Phim b·ªô Vi·ªát ƒë·∫∑c s·∫Øc"
                      type:
                        type: string
                        example: "grid"
                      showAll:
                        type: boolean
                        example: false
                      total:
                        type: integer
                        example: 8
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"

  /api/series/anime:
    get:
      tags:
        - Series
      summary: üéå API Phim b·ªô Anime/Ho·∫°t h√¨nh
      description: |
        **üéØ API ANIME SERIES HOT**

        **üéå ƒê·∫∑c ƒëi·ªÉm:**
        - Ch·ªâ l·∫•y phim c√≥ `movie_type = "Phim b·ªô"`
        - Filter theo th·ªÉ lo·∫°i "Ho·∫°t h√¨nh" ho·∫∑c producer anime
        - S·∫Øp x·∫øp theo popularity v√† rating
        - H·ªó tr·ª£ xem t·∫•t c·∫£ v·ªõi `showAll=true`

        **üì± Frontend Usage:**
        ```javascript
        // L·∫•y 8 anime series hot nh·∫•t
        fetch('/api/series/anime')
        
        // Xem t·∫•t c·∫£ anime series
        fetch('/api/series/anime?showAll=true')
        ```

        **üîì Public API** (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
      parameters:
        - name: showAll
          in: query
          required: false
          schema:
            type: string
            enum: ["true", "false"]
          description: |
            **üëÄ XEM T·∫§T C·∫¢ ANIME SERIES (T√πy ch·ªçn)**
            
            - `true`: Xem t·∫•t c·∫£ anime/ho·∫°t h√¨nh b·ªô
            - `false` ho·∫∑c kh√¥ng truy·ªÅn: Ch·ªâ 8 series top
          example: "false"
      responses:
        "200":
          description: ‚úÖ L·∫•y anime series th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "Anime series hot"
                      type:
                        type: string
                        example: "grid"
                      showAll:
                        type: boolean
                        example: false
                      total:
                        type: integer
                        example: 8
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"

  /api/series/korean:
    get:
      tags:
        - Series
      summary: üá∞üá∑ API Phim b·ªô H√†n Qu·ªëc (K-Drama)
      description: |
        **üéØ API K-DRAMA HOT NH·∫§T**

        **üá∞üá∑ ƒê·∫∑c ƒëi·ªÉm:**
        - Ch·ªâ l·∫•y phim c√≥ `movie_type = "Phim b·ªô"`
        - Filter producer ch·ª©a "H√†n Qu·ªëc", "Korea", "KBS", "SBS", "MBC"
        - S·∫Øp x·∫øp theo popularity v√† rating
        - H·ªó tr·ª£ xem t·∫•t c·∫£ v·ªõi `showAll=true`

        **üì± Frontend Usage:**
        ```javascript
        // L·∫•y 8 K-drama hot nh·∫•t
        fetch('/api/series/korean')
        
        // Xem t·∫•t c·∫£ K-drama
        fetch('/api/series/korean?showAll=true')
        ```

        **üîì Public API** (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
      parameters:
        - name: showAll
          in: query
          required: false
          schema:
            type: string
            enum: ["true", "false"]
          description: |
            **üëÄ XEM T·∫§T C·∫¢ K-DRAMA (T√πy ch·ªçn)**
            
            - `true`: Xem t·∫•t c·∫£ phim b·ªô H√†n Qu·ªëc
            - `false` ho·∫∑c kh√¥ng truy·ªÅn: Ch·ªâ 8 phim top
          example: "false"
      responses:
        "200":
          description: ‚úÖ L·∫•y K-drama th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "K-Drama hot nh·∫•t"
                      type:
                        type: string
                        example: "grid"
                      showAll:
                        type: boolean
                        example: false
                      total:
                        type: integer
                        example: 8
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
              example:
                status: "success"
                data:
                  title: "K-Drama hot nh·∫•t"
                  type: "grid"
                  showAll: false
                  total: 8
                  movies:
                    - movieId: "683fb123456789abcdef1234"
                      title: "Hometown's Embrace"
                      poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/korean/hometown-embrace.jpg"
                      movieType: "Phim b·ªô"
                      producer: "KBS Drama"

  # === MOVIE DETAIL API ===
  /api/movies/{id}/detail-with-interactions:
    get:
      tags:
        - Movie
      summary: üé¨ API Chi ti·∫øt phim t·ªïng h·ª£p cho m√†n h√¨nh detail
      description: |
        **üéØ M·ª•c ƒë√≠ch:** API t·ªïng h·ª£p m·ªçi th√¥ng tin c·∫ßn thi·∫øt cho m√†n h√¨nh chi ti·∫øt phim.

        **üåü ƒê·∫∑c ƒëi·ªÉm:**
        - ‚úÖ API hybrid: Public (kh√¥ng c·∫ßn userId) ho·∫∑c Protected (c√≥ userId)
        - ‚úÖ Kh√¥ng c√≥ userId: Ch·ªâ th√¥ng tin phim + stats + comments
        - ‚úÖ C√≥ userId: Th√™m user interactions (like, favorite, watching progress)
        - ‚úÖ Tr·∫£ v·ªÅ c·∫•u h√¨nh tabs cho UI (Danh s√°ch/Li√™n quan)
        - ‚úÖ Th√¥ng tin kh√°c nhau cho phim l·∫ª vs phim b·ªô

        **üí° Use Cases:**
        - M√†n h√¨nh chi ti·∫øt phim (user ch∆∞a ƒëƒÉng nh·∫≠p)
        - M√†n h√¨nh chi ti·∫øt phim (user ƒë√£ ƒëƒÉng nh·∫≠p) - c√≥ tr·∫°ng th√°i t∆∞∆°ng t√°c
        - UI render tabs d·ª±a v√†o `tabs` config

        **üîÑ THAY ƒê·ªîI:** S·ª≠ d·ª•ng userId thay v√¨ Authorization header
      parameters:
        - name: id
          in: query
          required: true
          schema:
            type: string
          example: "675a1234567890abcdef1234"
          description: "ID c·ªßa phim (ObjectId)"
        - name: userId
          in: query
          schema:
            type: string
          example: "683d7b63d0ee4aeb15a11369"
          description: "ID c·ªßa user (t√πy ch·ªçn) - c√≥ userId th√¨ tr·∫£ v·ªÅ user interactions"
      responses:
        "200":
          description: ‚úÖ L·∫•y chi ti·∫øt phim th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    $ref: "#/components/schemas/MovieDetailResponse"
              examples:
                phim_bo_with_user:
                  summary: "Phim b·ªô - C√≥ userId (ƒëƒÉng nh·∫≠p)"
                  value:
                    status: "success"
                    data:
                      movie:
                        _id: "675a1234567890abcdef1234"
                        movie_title: "H·ªì S∆° Trinh S√°t II - T·∫≠p 1"
                        description: "B·ªô phim trinh th√°m Hong Kong n·ªïi ti·∫øng..."
                        production_time: "1995-12-15T00:00:00.000Z"
                        producer: "TVB Hong Kong"
                        poster_path: "https://example.com/poster.jpg"
                        genres:
                          - _id: "genre1"
                            genre_name: "Trinh th√°m"
                            description: "Phim trinh th√°m"
                        movie_type: "Phim b·ªô"
                        price: 0
                        is_free: true
                        price_display: "Mi·ªÖn ph√≠"
                        episodes:
                          - _id: "ep1"
                            episode_number: 1
                            episode_title: "T·∫≠p 1"
                            episode_description: "T·∫≠p m·ªü ƒë·∫ßu"
                            duration: 45
                            uri: "https://cdn.example.com/episode1.m3u8"
                            is_locked: false
                      stats:
                        views: 15420
                        viewsFormatted: "15.4K"
                        likes: 892
                        rating: 4.6
                        totalRatings: 1250
                        comments: 156
                      recentComments:
                        - _id: "comment1"
                          user:
                            name: "B√¨nh Lu·∫≠n"
                            email: "user@example.com"
                          comment: "2 s√©p n√™n ƒë·ªôc th√¢n l√† ok nh·∫•t"
                          isLike: true
                          createdAt: "2024-12-11T12:00:00.000Z"
                      userInteractions:
                        hasLiked: true
                        hasRated: true
                        userComment: "Phim hay qu√°!"
                        isFavorite: true
                        isFollowing: true
                        watchingProgress:
                          episodeNumber: 1
                          watchPercentage: 75.5
                          currentTime: 2040
                          lastWatched: "2024-12-11T10:30:00.000Z"
                      relatedMovies:
                        - movieId: "675a1234567890abcdef5678"
                          title: "H·ªì S∆° Trinh S√°t I"
                          poster: "https://example.com/related1.jpg"
                          movieType: "Phim b·ªô"
                          producer: "TVB Hong Kong"
                      tabs:
                        showEpisodesList: true
                        showRelated: true
                phim_le_no_user:
                  summary: "Phim l·∫ª - Kh√¥ng c√≥ userId (ch∆∞a ƒëƒÉng nh·∫≠p)"
                  value:
                    status: "success"
                    data:
                      movie:
                        _id: "675a1234567890abcdef9999"
                        movie_title: "Spider-Man: No Way Home"
                        description: "B·ªô phim si√™u anh h√πng..."
                        production_time: "2021-12-15T00:00:00.000Z"
                        producer: "Sony Pictures"
                        poster_path: "https://example.com/spiderman.jpg"
                        genres:
                          - _id: "genre2"
                            genre_name: "H√†nh ƒë·ªông"
                            description: "Phim h√†nh ƒë·ªông"
                        movie_type: "Phim l·∫ª"
                        price: 50000
                        is_free: false
                        price_display: "50,000 VNƒê"
                        uri: null
                        duration: 148
                        is_locked: true
                      stats:
                        views: 125340
                        viewsFormatted: "125K"
                        likes: 8934
                        rating: 4.8
                        totalRatings: 12450
                        comments: 2156
                      recentComments: []
                      userInteractions: null
                      relatedMovies: []
                      tabs:
                        showEpisodesList: false
                        showRelated: true
        "404":
          description: ‚ùå Kh√¥ng t√¨m th·∫•y phim
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "Kh√¥ng t√¨m th·∫•y phim"
        "500":
          description: ‚ùå L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "L·ªói khi l·∫•y chi ti·∫øt phim"

  # === GENRE APIs ===
  /api/genres:
    get:
      tags:
        - Genre
      summary: L·∫•y danh s√°ch th·ªÉ lo·∫°i
      description: |
        L·∫•y danh s√°ch th·ªÉ lo·∫°i v·ªõi nhi·ªÅu options.
        
        **Query Parameters:**
        - `type`: Lo·∫°i th·ªÉ lo·∫°i c·∫ßn l·∫•y ('all' | 'parent' | 'active' | 'children', m·∫∑c ƒë·ªãnh: 'all')
        - `parent_id`: ID th·ªÉ lo·∫°i cha (ch·ªâ d√πng khi type='children')
        
        **L∆∞u √Ω:**
        - Lu√¥n tr·∫£ v·ªÅ poster (include_poster=true)
        - Lu√¥n tr·∫£ v·ªÅ d·∫°ng c√¢y (format=tree)
        
        **V√≠ d·ª•:**
        1. L·∫•y t·∫•t c·∫£ th·ªÉ lo·∫°i:
           GET /api/genres
        2. L·∫•y th·ªÉ lo·∫°i cha:
           GET /api/genres?type=parent
        3. L·∫•y th·ªÉ lo·∫°i con c·ªßa m·ªôt th·ªÉ lo·∫°i cha:
           GET /api/genres?type=children&parent_id=123
      parameters:
        - in: query
          name: type
          schema:
            type: string
            enum: [all, parent, active, children]
            default: all
          description: Lo·∫°i th·ªÉ lo·∫°i c·∫ßn l·∫•y
        - in: query
          name: parent_id
          schema:
            type: string
          description: ID th·ªÉ lo·∫°i cha (ch·ªâ d√πng khi type='children')
      responses:
        "200":
          description: Th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      genres:
                        type: array
                        items:
                          $ref: "#/components/schemas/Genre"
                      total:
                        type: integer
                        example: 10
                      type:
                        type: string
                        example: "all"
                      format:
                        type: string
                        example: "tree"
        "404":
          description: Kh√¥ng t√¨m th·∫•y th·ªÉ lo·∫°i
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/genres/{genreId}/movies:
    get:
      tags:
        - Genre
      summary: L·∫•y danh s√°ch phim c·ªßa th·ªÉ lo·∫°i
      description: L·∫•y danh s√°ch phim thu·ªôc m·ªôt th·ªÉ lo·∫°i c·ª• th·ªÉ
      parameters:
        - in: query
          name: genreId
          required: true
          schema:
            type: string
          description: ID th·ªÉ lo·∫°i
      responses:
        "200":
          description: Th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      genre:
                        $ref: "#/components/schemas/Genre"
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/GridMovie"
                      total:  
                        type: integer
                        example: 10

  /api/genres/{id}:
    put:
      tags:
        - Genre
      summary: C·∫≠p nh·∫≠t th·ªÉ lo·∫°i
      description: C·∫≠p nh·∫≠t th√¥ng tin c·ªßa m·ªôt th·ªÉ lo·∫°i
      parameters:
        - in: query
          name: id
          required: true
          schema:
            type: string
          description: ID th·ªÉ lo·∫°i
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                genre_name:
                  type: string
                  example: "H√†nh ƒë·ªông"
                description:
                  type: string
                  example: "Phim h√†nh ƒë·ªông gay c·∫•n"
                poster:
                  type: string
                  example: "https://example.com/poster.jpg"
                sort_order:
                  type: integer
                  example: 1
      responses:
        "200":
          description: C·∫≠p nh·∫≠t th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ c·∫≠p nh·∫≠t th·ªÉ lo·∫°i th√†nh c√¥ng"
                  data:
                    type: object
                    properties:
                      genre:
                        $ref: "#/components/schemas/Genre"
    delete:
      tags:
        - Genre
      summary: X√≥a th·ªÉ lo·∫°i
      description: X√≥a m·ªôt th·ªÉ lo·∫°i
      parameters:
        - in: query
          name: id
          required: true
          schema:
            type: string
          description: ID th·ªÉ lo·∫°i
      responses:
        "200":
          description: X√≥a th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ x√≥a th·ªÉ lo·∫°i th√†nh c√¥ng"

  /api/genres/{id}/status:
    put:
      tags:
        - Genre
      summary: C·∫≠p nh·∫≠t tr·∫°ng th√°i th·ªÉ lo·∫°i
      description: |
        C·∫≠p nh·∫≠t tr·∫°ng th√°i c·ªßa th·ªÉ lo·∫°i (activate/deactivate/toggle).
        
        **L∆∞u √Ω:**
        - N·∫øu kh√¥ng truy·ªÅn action ‚Üí Toggle tr·∫°ng th√°i
        - N·∫øu truy·ªÅn action ‚Üí Set tr·∫°ng th√°i theo action
      parameters:
        - in: query
          name: id
          required: true
          schema:
            type: string
          description: ID th·ªÉ lo·∫°i
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                  enum: [activate, deactivate]
                  example: "activate"
      responses:
        "200":
          description: C·∫≠p nh·∫≠t th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ c·∫≠p nh·∫≠t tr·∫°ng th√°i th·ªÉ lo·∫°i th√†nh c√¥ng"
                  data:
                    type: object
                    properties:
                      genre:
                        $ref: "#/components/schemas/Genre"

  # === MOVIE INTERACTION APIs ===
  /api/ratings/movies/{movie_id}/like:
    post:
      tags:
        - Movie Interactions
      summary: ‚ù§Ô∏è Th√≠ch phim
      description: |
        **üéØ M·ª•c ƒë√≠ch:** User th√≠ch m·ªôt b·ªô phim.

        **üîÑ THAY ƒê·ªîI:** S·ª≠ d·ª•ng userId trong body thay v√¨ Authorization header
      parameters:
        - name: movie_id
          in: query
          required: true
          schema:
            type: string
          example: "675a1234567890abcdef1234"
          description: "ID c·ªßa phim"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
              properties:
                userId:
                  type: string
                  example: "683d7b63d0ee4aeb15a11369"
                  description: "ID c·ªßa user th·ª±c hi·ªán thao t√°c"
      responses:
        "200":
          description: ‚úÖ Th√≠ch phim th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ th√≠ch phim th√†nh c√¥ng"
                  data:
                    type: object
                    properties:
                      movieId:
                        type: string
                        example: "675a1234567890abcdef1234"
                      likeCount:
                        type: integer
                        example: 893
                      rating:
                        type: number
                        format: float
                        example: 4.6
        "404":
          description: ‚ùå Kh√¥ng t√¨m th·∫•y phim
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/ratings/movies/{movie_id}/unlike:
    post:
      tags:
        - Movie Interactions
      summary: üíî B·ªè th√≠ch phim
      description: |
        **üéØ M·ª•c ƒë√≠ch:** User b·ªè th√≠ch m·ªôt b·ªô phim.

        **üîÑ THAY ƒê·ªîI:** S·ª≠ d·ª•ng userId trong body thay v√¨ Authorization header
      parameters:
        - name: movie_id
          in: query             
          required: true
          schema:
            type: string
          example: "675a1234567890abcdef1234"
          description: "ID c·ªßa phim"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
              properties:
                userId:
                  type: string
                  example: "683d7b63d0ee4aeb15a11369"
                  description: "ID c·ªßa user th·ª±c hi·ªán thao t√°c"
      responses:
        "200":
          description: ‚úÖ B·ªè th√≠ch phim th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ b·ªè th√≠ch phim th√†nh c√¥ng"
                  data:
                    type: object
                    properties:
                      movieId:
                        type: string
                        example: "675a1234567890abcdef1234"
                      likeCount:
                        type: integer
                        example: 891
                      rating:
                        type: number
                        format: float
                        example: 4.5

  /api/ratings/movies/{movie_id}/comment:
    post:
      tags:
        - Movie Interactions
      summary: üí¨ Th√™m b√¨nh lu·∫≠n phim
      description: |
        **üéØ M·ª•c ƒë√≠ch:** User th√™m b√¨nh lu·∫≠n cho m·ªôt b·ªô phim.

        **üîÑ THAY ƒê·ªîI:** S·ª≠ d·ª•ng userId trong body thay v√¨ Authorization header
      parameters:
        - name: movie_id
          in: query
          required: true
          schema:
            type: string
          example: "675a1234567890abcdef1234"
          description: "ID c·ªßa phim"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - comment
              properties:
                userId:
                  type: string
                  example: "683d7b63d0ee4aeb15a11369"
                  description: "ID c·ªßa user th·ª±c hi·ªán thao t√°c"
                comment:
                  type: string
                  example: "Phim hay qu√°! Di·ªÖn vi√™n di·ªÖn r·∫•t t·ª± nhi√™n."
                  description: "N·ªôi dung b√¨nh lu·∫≠n"
      responses:
        "200":
          description: ‚úÖ Th√™m b√¨nh lu·∫≠n th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ th√™m b√¨nh lu·∫≠n th√†nh c√¥ng"
                  data:
                    type: object
                    properties:
                      movieId:
                        type: string
                        example: "675a1234567890abcdef1234"
                      comment:
                        type: object
                        properties:
                          id:
                            type: string
                            example: "rating123"
                          comment:
                            type: string
                            example: "Phim hay qu√°! Di·ªÖn vi√™n di·ªÖn r·∫•t t·ª± nhi√™n."
                          user:
                            $ref: "#/components/schemas/UserInfo"
                          createdAt:
                            type: string
                            format: date-time
                            example: "2024-12-11T12:00:00.000Z"
        "400":
          description: ‚ùå B√¨nh lu·∫≠n kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/favorites/movies/{movie_id}/add:
    post:
      tags:
        - Movie Interactions
      summary: ‚≠ê Th√™m v√†o danh s√°ch y√™u th√≠ch
      description: |
        **üéØ M·ª•c ƒë√≠ch:** User th√™m phim v√†o danh s√°ch y√™u th√≠ch.

        **üîÑ THAY ƒê·ªîI:** S·ª≠ d·ª•ng userId trong body thay v√¨ Authorization header
      parameters:
        - name: movie_id
          in: query
          required: true
          schema:
            type: string
          example: "675a1234567890abcdef1234"
          description: "ID c·ªßa phim"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
              properties:
                userId:
                  type: string
                  example: "683d7b63d0ee4aeb15a11369"
                  description: "ID c·ªßa user th·ª±c hi·ªán thao t√°c"
      responses:
        "200":
          description: ‚úÖ Th√™m v√†o y√™u th√≠ch th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ th√™m v√†o danh s√°ch y√™u th√≠ch"

  /api/favorites/movies/{movie_id}/remove:
    post:
      tags:
        - Movie Interactions
      summary: ‚ùå X√≥a kh·ªèi danh s√°ch y√™u th√≠ch
      description: |
        **üéØ M·ª•c ƒë√≠ch:** User x√≥a phim kh·ªèi danh s√°ch y√™u th√≠ch.

        **üîÑ THAY ƒê·ªîI:** S·ª≠ d·ª•ng userId trong body thay v√¨ Authorization header
      parameters:
        - name: movie_id
          in: query
          required: true
          schema:
            type: string
          example: "675a1234567890abcdef1234"
          description: "ID c·ªßa phim"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
              properties:
                userId:
                  type: string
                  example: "683d7b63d0ee4aeb15a11369"
                  description: "ID c·ªßa user th·ª±c hi·ªán thao t√°c"
      responses:
        "200":
          description: ‚úÖ X√≥a kh·ªèi y√™u th√≠ch th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  message:
                    type: string
                    example: "ƒê√£ x√≥a kh·ªèi danh s√°ch y√™u th√≠ch"

  /api/movies/search:
    get:
      tags:
        - Movie
      summary: üîç T√¨m ki·∫øm phim ƒë∆°n gi·∫£n theo t√™n v√† m√¥ t·∫£
      description: |
        **üéØ API T√åM KI·∫æM PHIM ƒê∆†N GI·∫¢N**

        **üìö C√ÅCH D√ôNG ƒê·ªöN GI·∫¢N NH·∫§T:**
        ```javascript
        // 1. T√¨m t·∫•t c·∫£ phim (kh√¥ng c·∫ßn tham s·ªë)
        GET /api/movies/search
        
        // 2. T√¨m theo t·ª´ kh√≥a trong t√™n v√† m√¥ t·∫£
        GET /api/movies/search?tuKhoa=avatar
        
        // 3. L·∫•y th√™m phim (pagination)
        GET /api/movies/search?page=2&limit=20
        ```

        **üîß T√çNH NƒÇNG:**
        - ‚úÖ **T√¨m ki·∫øm ƒë∆°n gi·∫£n:** CH·ªà trong t√™n phim v√† m√¥ t·∫£
        - ‚úÖ **Pagination t·ª± ƒë·ªông:** h·ªó tr·ª£ infinite scroll
        - ‚úÖ **Response t·ªëi ∆∞u:** poster, stats, pricing info
        - ‚úÖ **S·∫Øp x·∫øp m·∫∑c ƒë·ªãnh:** theo ng√†y t·∫°o m·ªõi nh·∫•t

        **üì± FRONTEND EXAMPLES:**
        ```javascript
        // T√¨m ki·∫øm c∆° b·∫£n
        fetch('/api/movies/search?tuKhoa=batman')
        
        // Load more cho FlatList
        fetch('/api/movies/search?tuKhoa=batman&page=2&limit=20')
        
        // L·∫•y t·∫•t c·∫£ phim
        fetch('/api/movies/search?page=1&limit=20')
        ```

        **üéØ PERFECT FOR:**
        - Search screens v·ªõi FlatList/Grid
        - Simple movie search
        - Infinite scroll implementation

        **üîì Public API** (kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p)
      parameters:
        - name: tuKhoa
          in: query
          required: false
          schema:
            type: string
          description: |
            **üî§ T·ª™ KH√ìA T√åM KI·∫æM (T√πy ch·ªçn)**
            
            T√¨m ki·∫øm ƒë∆°n gi·∫£n ch·ªâ trong:
            - üé¨ T√™n phim 
            - üìù M√¥ t·∫£ phim
            
            üí° **Tips:** Kh√¥ng ph√¢n bi·ªát hoa th∆∞·ªùng, c√≥ th·ªÉ t√¨m ti·∫øng Vi·ªát c√≥ d·∫•u
          example: "batman"
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: |
            **üìÑ TRANG HI·ªÜN T·∫†I (T√πy ch·ªçn)**
            
            D√πng cho infinite scroll trong FlatList
            - Trang ƒë·∫ßu: `1` (m·∫∑c ƒë·ªãnh)
            - Load more: `2`, `3`, `4`...
          example: 1
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 20
            minimum: 1
            maximum: 100
          description: |
            **üìä S·ªê PHIM M·ªñI TRANG (T√πy ch·ªçn)**
            
            - M·∫∑c ƒë·ªãnh: `20` phim ‚≠ê **Khuy√™n d√πng**
            - T·ªëi thi·ªÉu: `1` phim
            - T·ªëi ƒëa: `100` phim
            
            üí° **FlatList tip:** D√πng 20 cho performance t·ªët
          example: 20
      responses:
        "200":
          description: ‚úÖ T√¨m ki·∫øm phim th√†nh c√¥ng
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "success"
                  data:
                    type: object
                    properties:
                      movies:
                        type: array
                        items:
                          $ref: "#/components/schemas/SearchMovieResult"
                      pagination:
                        $ref: "#/components/schemas/PaginationInfo"
                      search_info:
                        $ref: "#/components/schemas/SearchInfo"
              examples:
                basic_search:
                  summary: "T√¨m ki·∫øm c∆° b·∫£n v·ªõi pagination"
                  value:
                    status: "success"
                    data:
                      movies:
                        - movieId: "683fb76c88e880e019875aca"
                          title: "1000 Years Old"
                          poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/phimbo-1000-years-old.jpg"
                          movieType: "Phim b·ªô"
                          producer: "WeTV Thailand"
                          description: "B·ªô phim t√¨nh c·∫£m ƒë·∫∑c s·∫Øc t·ª´ Th√°i Lan v·ªõi c√¢u chuy·ªán t√¨nh y√™u v∆∞·ª£t th·ªùi gian..."
                          releaseYear: 2024
                          price: 0
                          is_free: true
                          price_display: "Mi·ªÖn ph√≠"
                          view_count: 15420
                          favorite_count: 892
                          rating: 4.6
                          total_ratings: 1250
                          total_episodes: 12
                          genres: ["T√¨nh c·∫£m", "Drama"]
                        - movieId: "683fb76c88e880e019875acb"
                          title: "Avatar: The Way of Water 2"
                          poster: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/hanh-dong/avatar-way-of-water-2.jpg"
                          movieType: "Phim l·∫ª"
                          producer: "20th Century Studios"
                          description: "Ph·∫ßn ti·∫øp theo ƒë·∫ßy m√†u s·∫Øc c·ªßa bom t·∫•n Avatar v·ªõi nh·ªØng c·∫£nh quay d∆∞·ªõi n∆∞·ªõc..."
                          releaseYear: 2025
                          price: 50000
                          is_free: false
                          price_display: "50,000 VNƒê"
                          view_count: 89342
                          favorite_count: 5234
                          rating: 4.8
                          total_ratings: 8934
                          total_episodes: 1
                          genres: ["H√†nh ƒë·ªông", "Khoa h·ªçc vi·ªÖn t∆∞·ªüng", "Phi√™u l∆∞u"]
                      pagination:
                        current_page: 1
                        total_pages: 5
                        total_items: 89
                        items_per_page: 20
                        has_next: true
                        has_prev: false
                      search_info:
                        keyword: "avatar"
                        search_in: ["movie_title", "description"]
                        total_found: 89
                simple_search:
                  summary: "T√¨m ki·∫øm ƒë∆°n gi·∫£n"
                  value:
                    status: "success"
                    data:
                      movies:
                        - movieId: "683fb76c88e880e019875acc"
                          title: "Inception"
                          poster: "https://example.com/inception.jpg"
                          movieType: "Phim l·∫ª"
                          producer: "Warner Bros"
                          description: "B·ªô phim khoa h·ªçc vi·ªÖn t∆∞·ªüng v·ªÅ gi·∫•c m∆° v√† th·ª±c t·∫°i ƒëan xen..."
                          releaseYear: 2010
                          price: 0
                          is_free: true
                          price_display: "Mi·ªÖn ph√≠"
                          view_count: 234567
                          favorite_count: 12345
                          rating: 4.9
                          total_ratings: 15678
                          total_episodes: 1
                          genres: ["Khoa h·ªçc vi·ªÖn t∆∞·ªüng", "H√†nh ƒë·ªông"]
                      pagination:
                        current_page: 2
                        total_pages: 3
                        total_items: 42
                        items_per_page: 20
                        has_next: true
                        has_prev: true
                      search_info:
                        keyword: "dream"
                        search_in: ["movie_title", "description"]
                        total_found: 42
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                status: "error"
                message: "L·ªói server khi t√¨m ki·∫øm phim"

components:
  schemas:
    PhoneRequest:
      type: object
      required:
        - phone
      properties:
        phone:
          type: string
          example: "0912345678"
          description: |
            S·ªë ƒëi·ªán tho·∫°i c·ªßa ng∆∞·ªùi d√πng
            - Format: 0xxxxxxxxx ho·∫∑c +84xxxxxxxxx
            - Ph·∫£i l√† s·ªë ƒëi·ªán tho·∫°i Vi·ªát Nam h·ª£p l·ªá
            - Kh√¥ng ƒë∆∞·ª£c ch·ª©a k√Ω t·ª± ƒë·∫∑c bi·ªát ho·∫∑c kho·∫£ng tr·∫Øng

    VerifyOTPRequest:
      type: object
      required:
        - phone
        - otp
      properties:
        phone:
          type: string
          example: "0912345678"
          description: S·ªë ƒëi·ªán tho·∫°i ƒë√£ d√πng ƒë·ªÉ nh·∫≠n OTP
        otp:
          type: string
          example: "123456"
          description: M√£ OTP 6 s·ªë nh·∫≠n ƒë∆∞·ª£c qua SMS

    RegisterRequest:
      type: object
      required:
        - full_name
        - email
        - gender
      properties:
        full_name:
          type: string
          example: "Nguy·ªÖn VƒÉn A"
          description: H·ªç v√† t√™n ng∆∞·ªùi d√πng
        email:
          type: string
          format: email
          example: "example@gmail.com"
          description: Email ng∆∞·ªùi d√πng (ph·∫£i l√† email h·ª£p l·ªá v√† ch∆∞a ƒë∆∞·ª£c s·ª≠ d·ª•ng)
        gender:
          type: string
          enum: [male, female]
          example: "male"
          description: Gi·ªõi t√≠nh (male = Nam, female = N·ªØ)

    UpdateProfileRequest:
      type: object
      description: "üîÑ Schema for multipart/form-data profile update with avatar upload"
      properties:
        full_name:
          type: string
          example: "ƒê·∫°t Thi·ªán"
          description: "H·ªç v√† t√™n ng∆∞·ªùi d√πng (c√≥ th·ªÉ update)"
        gender:
          type: string
          enum: [male, female, other]
          example: "male"
          description: "Gi·ªõi t√≠nh (male=Nam, female=N·ªØ, other=Kh√°c) - c√≥ th·ªÉ update"
        avatar:
          type: string
          format: binary
          description: "File ·∫£nh ƒë·∫°i di·ªán (JPEG/PNG/GIF, max 2MB)"
      additionalProperties: false
      example:
        full_name: "ƒê·∫°t Thi·ªán Updated"
        gender: "male"
        avatar: "[BINARY_FILE_DATA]"

    UpdateProfileTextOnlyRequest:
      type: object
      description: "Schema for text-only profile update (no avatar)"
      properties:
        full_name:
          type: string
          example: "ƒê·∫°t Thi·ªán"
          description: "H·ªç v√† t√™n ng∆∞·ªùi d√πng"
        gender:
          type: string
          enum: [male, female, other]
          example: "male"
          description: "Gi·ªõi t√≠nh (male=Nam, female=N·ªØ, other=Kh√°c)"
      additionalProperties: false

    AuthResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "ƒêƒÉng nh·∫≠p th√†nh c√¥ng"
        data:
          type: object
          properties:
            userId:
              type: string
              example: "683d7b63d0ee4aeb15a11369"
              description: "‚ö†Ô∏è L∆ØU L·∫†I C√ÅI N√ÄY! D√πng cho t·∫•t c·∫£ APIs c·∫ßn authentication"
            user:
              $ref: "#/components/schemas/UserInfo"
          description: "Kh√¥ng c√≤n tr·∫£ v·ªÅ tokens n·ªØa, ch·ªâ c√≥ userId v√† user info"

    ProfileResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "L·∫•y th√¥ng tin th√†nh c√¥ng"
        data:
          type: object
          properties:
            user:
              $ref: "#/components/schemas/UserInfo"

    UserInfo:
      type: object
      properties:
        _id:
          type: string
          example: "683d7b63d0ee4aeb15a11369"
        uid:
          type: string
          example: "683d7b63d0ee4aeb15a11369"
          description: "UID ƒë·ªÉ hi·ªÉn th·ªã tr√™n m√†n h√¨nh (gi·ªëng _id)"
        full_name:
          type: string
          example: "Nguy·ªÖn VƒÉn A"
        email:
          type: string
          example: "example@gmail.com"
        phone:
          type: string
          example: "0912345678"
        gender:
          type: string
          enum: [male, female, other]
          example: "male"
          description: "Gi·ªõi t√≠nh: male=Nam, female=N·ªØ, other=Kh√°c"
        avatar:
          type: string
          example: "https://example.com/avatar.jpg"
        is_phone_verified:
          type: boolean
          example: true

    SuccessResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string

    ErrorResponse:
      type: object
      properties:
        status:
          type: string
          example: "error"
        message:
          type: string

    BannerMovie:
      type: object
      description: Schema cho phim trong banner section
      properties:
        movieId:
          type: string
          example: "683fb76c88e880e019875aca"
          description: ID c·ªßa phim
        title:
          type: string
          example: "1000 Years Old"
          description: T√™n phim
        poster:
          type: string
          example: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/phimbo-1000-years-old.jpg"
          description: URL poster phim
        description:
          type: string
          nullable: true
          example: "Phim l·∫ª Vi·ªát Nam d·ª±a tr√™n truy·ªán d√†i c√πng t√™n c·ªßa Nguy·ªÖn Nh·∫≠t √Ånh..."
          description: M√¥ t·∫£ phim (c√≥ th·ªÉ null)
        releaseYear:
          type: integer
          nullable: true
          example: 2024
          description: NƒÉm ph√°t h√†nh (c√≥ th·ªÉ null)
        movieType:
          type: string
          example: "Phim b·ªô"
          description: Lo·∫°i phim (Phim b·ªô, Phim l·∫ª, Th·ªÉ thao)
        producer:
          type: string
          example: "WeTV Thailand"
          description: Nh√† s·∫£n xu·∫•t
        genres:
          type: array
          items:
            type: string
          example: ["T√¨nh c·∫£m", "Kinh d·ªã"]
          description: Danh s√°ch th·ªÉ lo·∫°i (t·ªëi ƒëa 3)

    # === GENRE SCHEMAS ===
    HomeCategoryItem:
      type: object
      description: Schema cho th·ªÉ lo·∫°i cha trong trang ch·ªß
      properties:
        _id:
          type: string
          example: "6847d080101e640d01a0c37f"
          description: ID duy nh·∫•t c·ªßa th·ªÉ lo·∫°i
        title:
          type: string
          example: "Ho·∫°t h√¨nh"
          description: T√™n th·ªÉ lo·∫°i hi·ªÉn th·ªã
        description:
          type: string
          example: "Phim ho·∫°t h√¨nh, anime v√† phim ƒë·ªông"
          description: M√¥ t·∫£ th·ªÉ lo·∫°i
        poster:
          type: string
          example: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop"
          description: URL h√¨nh ·∫£nh poster cho th·ªÉ lo·∫°i
        movie_count:
          type: integer
          example: 9
          description: T·ªïng s·ªë phim thu·ªôc th·ªÉ lo·∫°i (bao g·ªìm c·∫£ con)
        has_children:
          type: boolean
          example: true
          description: C√≥ th·ªÉ lo·∫°i con hay kh√¥ng
        children_count:
          type: integer
          example: 4
          description: S·ªë l∆∞·ª£ng th·ªÉ lo·∫°i con
        sort_order:
          type: integer
          example: 1
          description: Th·ª© t·ª± s·∫Øp x·∫øp

    GenreInfo:
      type: object
      description: Schema th√¥ng tin c∆° b·∫£n c·ªßa th·ªÉ lo·∫°i
      properties:
        _id:
          type: string
          example: "6847d080101e640d01a0c37f"
          description: ID c·ªßa th·ªÉ lo·∫°i
        genre_name:
          type: string
          example: "Ho·∫°t h√¨nh"
          description: T√™n th·ªÉ lo·∫°i
        description:
          type: string
          example: "Phim ho·∫°t h√¨nh, anime v√† phim ƒë·ªông"
          description: M√¥ t·∫£ th·ªÉ lo·∫°i

    ChildGenreItem:
      type: object
      description: Schema cho th·ªÉ lo·∫°i con
      properties:
        _id:
          type: string
          example: "683d7d1dd0ee4aeb15a1138c"
          description: ID c·ªßa th·ªÉ lo·∫°i con
        genre_name:
          type: string
          example: "H√†nh ƒê·ªông"
          description: T√™n th·ªÉ lo·∫°i con
        description:
          type: string
          example: "Phim h√†nh ƒë·ªông, v√µ thu·∫≠t"
          description: M√¥ t·∫£ th·ªÉ lo·∫°i con
        movie_count:
          type: integer
          example: 24
          description: S·ªë l∆∞·ª£ng phim thu·ªôc th·ªÉ lo·∫°i con
        sort_order:
          type: integer
          example: 1
          description: Th·ª© t·ª± s·∫Øp x·∫øp

    GridMovie:
      type: object
      description: Schema cho phim trong grid section
      properties:
        movieId:
          type: string
          example: "683fb76c88e880e019875aca"
          description: ID c·ªßa phim
        title:
          type: string
          example: "1000 Years Old"
          description: T√™n phim
        poster:
          type: string
          example: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/phimbo-1000-years-old.jpg"
          description: URL poster phim
        movieType:
          type: string
          example: "Phim b·ªô"
          description: Lo·∫°i phim (Phim b·ªô, Phim l·∫ª, Th·ªÉ thao)
        producer:
          type: string
          example: "WeTV Thailand"
          description: Nh√† s·∫£n xu·∫•t

    # === MOVIE DETAIL SCHEMAS ===
    MovieDetailResponse:
      type: object
      description: Schema response chi ti·∫øt phim t·ªïng h·ª£p cho m√†n h√¨nh detail
      properties:
        movie:
          type: object
          description: Th√¥ng tin chi ti·∫øt phim
          properties:
            _id:
              type: string
              example: "675a1234567890abcdef1234"
            movie_title:
              type: string
              example: "H·ªì S∆° Trinh S√°t II - T·∫≠p 1"
            description:
              type: string
              example: "B·ªô phim trinh th√°m Hong Kong n·ªïi ti·∫øng..."
            production_time:
              type: string
              format: date-time
              example: "1995-12-15T00:00:00.000Z"
            producer:
              type: string
              example: "TVB Hong Kong"
            poster_path:
              type: string
              example: "https://example.com/poster.jpg"
            genres:
              type: array
              items:
                type: object
                properties:
                  _id:
                    type: string
                  genre_name:
                    type: string
                  description:
                    type: string
            movie_type:
              type: string
              enum: ["Phim b·ªô", "Phim l·∫ª", "Th·ªÉ thao"]
              example: "Phim b·ªô"
            price:
              type: number
              example: 0
            is_free:
              type: boolean
              example: true
            price_display:
              type: string
              example: "Mi·ªÖn ph√≠"
            episodes:
              type: array
              description: "Danh s√°ch t·∫≠p (ch·ªâ c√≥ khi l√† phim b·ªô)"
              items:
                type: object
                properties:
                  _id:
                    type: string
                  episode_number:
                    type: integer
                  episode_title:
                    type: string
                  episode_description:
                    type: string
                  duration:
                    type: integer
                  uri:
                    type: string
                    nullable: true
                  is_locked:
                    type: boolean
            uri:
              type: string
              nullable: true
              description: "Video URL (ch·ªâ c√≥ khi l√† phim l·∫ª)"
            duration:
              type: integer
              description: "Th·ªùi l∆∞·ª£ng phim l·∫ª (ph√∫t)"
            is_locked:
              type: boolean
              description: "Phim c√≥ b·ªã kh√≥a kh√¥ng"
        stats:
          type: object
          description: Th·ªëng k√™ phim
          properties:
            views:
              type: integer
              example: 15420
            viewsFormatted:
              type: string
              example: "15.4K"
            likes:
              type: integer
              example: 892
            rating:
              type: number
              format: float
              example: 4.6
            totalRatings:
              type: integer
              example: 1250
            comments:
              type: integer
              example: 156
        recentComments:
          type: array
          description: 5 b√¨nh lu·∫≠n g·∫ßn ƒë√¢y nh·∫•t
          items:
            type: object
            properties:
              _id:
                type: string
              user:
                type: object
                properties:
                  name:
                    type: string
                  email:
                    type: string
              comment:
                type: string
              isLike:
                type: boolean
              createdAt:
                type: string
                format: date-time
        userInteractions:
          type: object
          nullable: true
          description: "T∆∞∆°ng t√°c c·ªßa user (null n·∫øu ch∆∞a ƒëƒÉng nh·∫≠p)"
          properties:
            hasLiked:
              type: boolean
              example: true
              description: "User ƒë√£ like phim ch∆∞a"
            hasRated:
              type: boolean
              example: true
              description: "User ƒë√£ rate phim ch∆∞a"
            userComment:
              type: string
              nullable: true
              example: "Phim hay qu√°!"
              description: "B√¨nh lu·∫≠n c·ªßa user"
            isFavorite:
              type: boolean
              example: true
              description: "ƒê√£ th√™m v√†o y√™u th√≠ch ch∆∞a"
            isFollowing:
              type: boolean
              example: true
              description: "ƒê√£ theo d√µi phim ch∆∞a (gi·ªëng isFavorite)"
            watchingProgress:
              type: object
              nullable: true
              description: "Ti·∫øn ƒë·ªô xem phim"
              properties:
                episodeNumber:
                  type: integer
                  example: 1
                watchPercentage:
                  type: number
                  example: 75.5
                currentTime:
                  type: integer
                  example: 2040
                lastWatched:
                  type: string
                  format: date-time
                  example: "2024-12-11T10:30:00.000Z"
        relatedMovies:
          type: array
          description: Phim li√™n quan cho tab "Li√™n quan"
          items:
            type: object
            properties:
              movieId:
                type: string
                example: "675a1234567890abcdef5678"
              title:
                type: string
                example: "H·ªì S∆° Trinh S√°t I"
              poster:
                type: string
                example: "https://example.com/related1.jpg"
              movieType:
                type: string
                example: "Phim b·ªô"
              producer:
                type: string
                example: "TVB Hong Kong"
        tabs:
          type: object
          description: C·∫•u h√¨nh tabs cho UI
          properties:
            showEpisodesList:
              type: boolean
              example: true
              description: "true = hi·ªán tab 'Danh s√°ch' (ch·ªâ phim b·ªô c√≥ true)"
            showRelated:
              type: boolean
              example: true
              description: "true = hi·ªán tab 'Li√™n quan' (lu√¥n lu√¥n true)"

    Genre:
      type: object
      properties:
        _id:
          type: string
          example: "683d7b63d0ee4aeb15a11369"
        genre_name:
          type: string
          example: "H√†nh ƒë·ªông"
        description:
          type: string
          example: "Phim h√†nh ƒë·ªông gay c·∫•n"
        poster:
          type: string
          example: "https://example.com/poster.jpg"
        parent_genre:
          type: string
          nullable: true
          example: "683d7b63d0ee4aeb15a11369"
        is_parent:
          type: boolean
          example: true
        is_active:
          type: boolean
          example: true
        sort_order:
          type: integer
          example: 1
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    # === SEARCH SCHEMAS ===
    SearchMovieResult:
      type: object
      description: "üîç Schema phim t·ªëi ∆∞u cho Search Results + FlatList"
      properties:
        movieId:
          type: string
          example: "683fb76c88e880e019875aca"
          description: "ID c·ªßa phim"
        title:
          type: string
          example: "1000 Years Old"
          description: "T√™n phim"
        poster:
          type: string
          nullable: true
          example: "https://locdev-bucket.s3.ap-southeast-1.amazonaws.com/assets/tinh-cam/phimbo-1000-years-old.jpg"
          description: "URL poster phim"
        movieType:
          type: string
          enum: ["Phim b·ªô", "Phim l·∫ª", "Th·ªÉ thao"]
          example: "Phim b·ªô"
          description: "Lo·∫°i phim"
        producer:
          type: string
          example: "WeTV Thailand"
          description: "Nh√† s·∫£n xu·∫•t"
        description:
          type: string
          nullable: true
          example: "B·ªô phim t√¨nh c·∫£m ƒë·∫∑c s·∫Øc t·ª´ Th√°i Lan v·ªõi c√¢u chuy·ªán t√¨nh y√™u v∆∞·ª£t th·ªùi gian..."
          description: "M√¥ t·∫£ ng·∫Øn phim (100 k√Ω t·ª±)"
        releaseYear:
          type: integer
          nullable: true
          example: 2024
          description: "NƒÉm ph√°t h√†nh"
        price:
          type: number
          example: 0
          description: "Gi√° phim (VNƒê)"
        is_free:
          type: boolean
          example: true
          description: "Phim mi·ªÖn ph√≠ hay kh√¥ng"
        price_display:
          type: string
          example: "Mi·ªÖn ph√≠"
          description: "Hi·ªÉn th·ªã gi√° ƒë·ªãnh d·∫°ng"
        view_count:
          type: integer
          example: 15420
          description: "S·ªë l∆∞·ª£t xem"
        favorite_count:
          type: integer
          example: 892
          description: "S·ªë l∆∞·ª£t y√™u th√≠ch"
        rating:
          type: number
          format: float
          example: 4.6
          description: "ƒê√°nh gi√° trung b√¨nh (0-5)"
        total_ratings:
          type: integer
          example: 1250
          description: "T·ªïng s·ªë ƒë√°nh gi√°"
        total_episodes:
          type: integer
          example: 12
          description: "T·ªïng s·ªë t·∫≠p"
        genres:
          type: array
          items:
            type: string
          example: ["T√¨nh c·∫£m", "Drama"]
          description: "Danh s√°ch th·ªÉ lo·∫°i (t·ªëi ƒëa 3)"

    PaginationInfo:
      type: object
      description: "üìÑ Th√¥ng tin ph√¢n trang cho FlatList infinite scroll"
      properties:
        current_page:
          type: integer
          example: 1
          description: "Trang hi·ªán t·∫°i"
        total_pages:
          type: integer
          example: 5
          description: "T·ªïng s·ªë trang"
        total_items:
          type: integer
          example: 89
          description: "T·ªïng s·ªë phim"
        items_per_page:
          type: integer
          example: 20
          description: "S·ªë phim m·ªói trang"
        has_next:
          type: boolean
          example: true
          description: "C√≥ trang ti·∫øp theo kh√¥ng"
        has_prev:
          type: boolean
          example: false
          description: "C√≥ trang tr∆∞·ªõc kh√¥ng"

    SearchInfo:
      type: object
      description: "üîç Th√¥ng tin t√¨m ki·∫øm v√† filter ƒë√£ √°p d·ª•ng"
      properties:
        keyword:
          type: string
          nullable: true
          example: "avatar"
          description: "T·ª´ kh√≥a t√¨m ki·∫øm"
        filters:
          type: object
          properties:
            genre:
              type: string
              nullable: true
              example: "6847d080101e640d01a0c37f"
              description: "ID th·ªÉ lo·∫°i ƒë√£ l·ªçc"
            movie_type:
              type: string
              nullable: true
              example: "Phim l·∫ª"
              description: "Lo·∫°i phim ƒë√£ l·ªçc"
            is_free:
              type: string
              nullable: true
              example: "true"
              description: "Filter mi·ªÖn ph√≠"
            sort:
              type: string
              example: "phobien"
              description: "C√°ch s·∫Øp x·∫øp ƒë√£ √°p d·ª•ng"

