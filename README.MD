# ğŸ¬ Movie Backend API

Dá»± Ã¡n backend API cho á»©ng dá»¥ng xem phim, sá»­ dá»¥ng **Express + MongoDB + Mongoose**.

## ğŸ¯ **TÃ­nh nÄƒng chÃ­nh**

- ğŸ” **Authentication**: OTP-based login qua SMS
- ğŸ¬ **Movie Management**: CRUD phim vÃ  táº­p phim
- ğŸ‘¤ **User Management**: Quáº£n lÃ½ profile ngÆ°á»i dÃ¹ng
- ğŸ“± **SMS Integration**: Gá»­i OTP qua eSMS API
- ğŸ›¡ï¸ **Security**: JWT tokens, validation, error handling

## ğŸ—ï¸ **Kiáº¿n trÃºc**

```
movie_backend/
â”œâ”€â”€ models/          # Database schemas
â”œâ”€â”€ controllers/     # Request handlers
â”œâ”€â”€ routes/          # API endpoints
â”œâ”€â”€ services/        # Business logic
â”œâ”€â”€ middleware/      # Authentication, validation
â”œâ”€â”€ validators/      # Input validation
â””â”€â”€ config/          # Configuration files
```

## ğŸš€ **CÃ i Ä‘áº·t**

```bash
git clone https://github.com/yourusername/movie_backend.git
cd movie_backend
npm install
cp .env.example .env
# Cáº¥u hÃ¬nh .env vá»›i MongoDB URI vÃ  SMS API keys
npm run dev
```

## ğŸ“Š **Database Schema**

### User Model
```javascript
{
  full_name: String,
  email: String (unique),
  phone: String (unique),
  password: String,
  is_phone_verified: Boolean
}
```

### Movie Model
```javascript
{
  title: String,
  description: String,
  category: String,
  release_date: Date,
  poster_url: String,
  trailer_url: String
}
```

### Episode Model
```javascript
{
  movie_id: ObjectId,
  title: String,
  episode_number: Number,
  duration: Number,
  video_url: String
}
```

## ğŸ” **Authentication Flow**

1. **ÄÄƒng kÃ½**: `POST /api/auth/send-otp` â†’ `POST /api/auth/verify-otp` â†’ `POST /api/auth/register-with-otp`
2. **ÄÄƒng nháº­p**: `POST /api/auth/request-login-otp` â†’ `POST /api/auth/login-with-otp`
3. **Refresh**: `POST /api/auth/refresh-token`

## ğŸ“¡ **API Endpoints**

### Public APIs (KhÃ´ng cáº§n auth)
```
GET    /api/movies/new-week     # Phim má»›i
GET    /api/movies/:id          # Chi tiáº¿t phim
GET    /api/episodes/:id        # Chi tiáº¿t táº­p phim
POST   /api/auth/*              # Authentication
```

### Protected APIs (Cáº§n JWT token)
```
GET    /api/users/me            # Profile cÃ¡ nhÃ¢n
PUT    /api/users/me            # Cáº­p nháº­t profile
POST   /api/movies              # ThÃªm phim
PUT    /api/movies/:id          # Sá»­a phim
DELETE /api/movies/:id          # XÃ³a phim
POST   /api/episodes            # ThÃªm táº­p phim
PUT    /api/episodes/:id        # Sá»­a táº­p phim
DELETE /api/episodes/:id        # XÃ³a táº­p phim
```

## ğŸ› ï¸ **Tech Stack**

- **Backend**: Node.js + Express.js
- **Database**: MongoDB + Mongoose
- **Authentication**: JWT + OTP
- **SMS Service**: eSMS API
- **Validation**: express-validator
- **Security**: bcrypt, helmet

## ğŸ“ **Há»c Ä‘Æ°á»£c gÃ¬ tá»« dá»± Ã¡n**

1. **MVC Architecture**: TÃ¡ch biá»‡t concerns rÃµ rÃ ng
2. **RESTful API Design**: Thiáº¿t káº¿ API chuáº©n
3. **Authentication**: JWT + OTP system
4. **Database Design**: MongoDB relationships
5. **Security**: Best practices báº£o máº­t
6. **Error Handling**: Xá»­ lÃ½ lá»—i professional
7. **Service Layer**: Business logic tÃ¡ch biá»‡t

## ğŸ‘¨â€ğŸ’» **TÃ¡c giáº£**

**Nguyá»…n Quang Lá»™c** - Sinh viÃªn IT  
ğŸ“§ Email: your.email@example.com  
ğŸ”— GitHub: [github.com/yourusername](https://github.com/yourusername)

---

â­ **Star repo náº¿u báº¡n tháº¥y há»¯u Ã­ch!**
